<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <title>Home</title>
</head>

<body>
  <form id="login-form">
    <label for="id">ID:</label>
    <input type="text" id="id" name="id" placeholder="ID" required /> <br />
    <label for="pw">Password:</label>
    <input type="password" id="pw" name="pw" placeholder="password" required />
    <br />
    <button class="register-btn">회원가입</button>
    <button onclick="logIn()" class="login-btn">로그인</button>
  </form>


  <script>
    if ("<%=isLogin%>"="true") {
      location.href="/user"
    }

    function logIn() {
      let form = document.getElementById("login-form");
      if (!form.checkValidity()) {
        form.reportValidity();

        return false;
      };

      let data = {
        id: form.id.value,
        pw: form.pw.value,
      }
      axios({
        method: "POST",
        url: "/",
        data: data
      })
        .then(() => {
          if ("<%= isLogin %>"="true") {
            alert(data.id + "님 환영합니다.");
          }
          else alert("다시 한번 확인해주세요.")
        })
    };
  </script>
</body>

</html>