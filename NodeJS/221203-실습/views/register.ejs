<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.12.4.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <title>Sign Up</title>
  </head>

  <style>
    body {
      text-align: center;
      font-family: sans-serif;
    }

    #btns {
      margin-top: 20px;
    }
  </style>
  <body>
    <form id="register-form">
      <fieldset>
        <h3>Welcome!</h3>
        <legend>Sign Up</legend>
        ID : <input type="text" name="id" placeholder="ID" required /><br />
        Password:
        <input type="password" name="pw" placeholder="password" required />
        <br />
        Name: <input type="text" name="name" placeholder="Your name" />
        <div id="btns">
          <button class="register-btn" type="button" onclick="register()">
            Register
          </button>
          <button class="login-btn" type="button" onclick="login()">
            Login
          </button>
        </div>
      </fieldset>
    </form>

    <script>
      function register() {
        let form = document.getElementById("register-form");
        let data = {
          id: form.id.value,
          pw: form.pw.value,
          name: form.name.value,
        };

        axios({
          method: "post",
          url: "/user/register",
          data: data,
        }).then(() => {
          alert("안녕하세요! " + `${data.name}` + "님 회원가입을 환영합니다.");
        });
      }

      function login() {
        let form = document.getElementById("register-form");
        axios({
          method: "post",
          url: "/user/login",
          data: { id: form.id.value, pw: form.pw.value },
        }).then(function (res) {
          alert(res.data.msg);
        });
      }
    </script>
  </body>
</html>
